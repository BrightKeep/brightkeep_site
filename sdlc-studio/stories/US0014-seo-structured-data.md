# US0014: Implement SEO Meta Tags and Structured Data

> **Status:** Done
> **Epic:** [EP0005: Quality, SEO & Compliance](../epics/EP0005-quality-seo-and-compliance.md)
> **Owner:** TBD
> **Reviewer:** TBD
> **Created:** 2026-02-10

## User Story

**As a** Startup Sam (founder searching Google for a digital consultancy in Melbourne)
**I want** BrightKeep to appear in search results with an accurate, compelling preview
**So that** I can discover and evaluate the company before clicking through to the website

## Context

### Persona Reference
**Startup Sam** - Founder / Business Owner, Intermediate technical proficiency. Typically finds BrightKeep through search, LinkedIn, or a referral. Needs to quickly assess what the company does from a search result snippet or social media link preview.
[Full persona details](../personas.md#startup-sam)

### Background
For BrightKeep to be discoverable by potential clients searching for digital consultancies in Melbourne, the site must have comprehensive SEO meta tags, structured data, and technical SEO infrastructure. This includes an optimised meta title and description, Open Graph tags for social media previews (LinkedIn, Slack), Twitter Card tags, Schema.org JSON-LD structured data (Organization and LocalBusiness for Melbourne, VIC, Australia), an auto-generated sitemap via `@astrojs/sitemap`, a `robots.txt`, and canonical URL configuration. These elements ensure search engines and social platforms can accurately index and preview the site.

---

## Acceptance Criteria

### AC1: Meta Title and Description
**Given** a search engine or browser requests the BrightKeep homepage
**When** the HTML `<head>` is parsed
**Then** the page contains a `<title>` tag with "BrightKeep | Digital Business & Product Development | Melbourne" and a `<meta name="description">` tag with an optimised description targeting keywords like "digital consultancy", "product development", "delivery consulting", and "Melbourne"

### AC2: Open Graph Tags
**Given** someone shares the BrightKeep URL on a social platform (LinkedIn, Facebook, Slack)
**When** the platform fetches the URL to generate a link preview
**Then** the HTML contains Open Graph meta tags: `og:title`, `og:description`, `og:type` (website), `og:url` (canonical URL), and `og:image` (a suitable preview image or branded fallback)

### AC3: Twitter Card Tags
**Given** someone shares the BrightKeep URL on Twitter/X
**When** the platform fetches the URL to generate a card preview
**Then** the HTML contains Twitter Card meta tags: `twitter:card` (summary_large_image or summary), `twitter:title`, and `twitter:description`

### AC4: Schema.org JSON-LD Structured Data
**Given** a search engine crawls the BrightKeep homepage
**When** it parses the structured data
**Then** the page contains a `<script type="application/ld+json">` block with Schema.org data for both `Organization` and `LocalBusiness` types, including: name ("BrightKeep"), description, URL, email (contact@brightkeep.com.au), address (Melbourne, VIC, Australia), and area served

### AC5: Sitemap and robots.txt
**Given** a search engine crawler accesses the site
**When** it requests `/sitemap-index.xml` (or `/sitemap.xml`) and `/robots.txt`
**Then** a valid sitemap is returned (generated by `@astrojs/sitemap` integration) listing all pages, and a `robots.txt` is returned that allows all crawlers and references the sitemap URL

### AC6: Canonical URL
**Given** the BrightKeep homepage is rendered
**When** the HTML `<head>` is parsed
**Then** a `<link rel="canonical">` tag is present with the canonical URL of the page, preventing duplicate content issues

---

## Scope

### In Scope
- Meta title tag: "BrightKeep | Digital Business & Product Development | Melbourne"
- Meta description tag optimised for digital consultancy keywords
- Open Graph meta tags: `og:title`, `og:description`, `og:type`, `og:url`, `og:image`
- Twitter Card meta tags: `twitter:card`, `twitter:title`, `twitter:description`
- Schema.org JSON-LD: Organization type with name, URL, email, description
- Schema.org JSON-LD: LocalBusiness type with address (Melbourne, VIC, AU), area served
- `@astrojs/sitemap` integration installed and configured
- `robots.txt` file in the `public/` directory (or generated)
- Canonical URL via `<link rel="canonical">`
- `PUBLIC_SITE_URL` env var used for absolute URLs in meta tags, sitemap, and canonical

### Out of Scope
- Content optimisation or keyword research (copy is defined in EP0002)
- Blog or additional pages for SEO (deferred to v2)
- Google Search Console setup (operational task)
- Social media image/graphic creation (use a simple branded fallback or omit `og:image` initially)
- Structured data for specific services or reviews (v2)
- Multi-page SEO (only homepage and privacy page in v1)

---

## Technical Notes

- SEO meta tags should be set in the base Astro layout `<head>`. Use Astro's `<head>` support or a dedicated `SEO.astro` component that accepts props for title, description, and URL.
- For Open Graph, the `og:url` should use the `PUBLIC_SITE_URL` environment variable to construct the absolute URL. If no `og:image` is available at launch, this tag can be omitted or point to a simple branded placeholder.
- The `@astrojs/sitemap` integration is added to `astro.config.mjs`. It requires the `site` property to be set in the Astro config (use `PUBLIC_SITE_URL`). It automatically generates a sitemap at build time.
- `robots.txt` can be a static file in the `public/` directory:
  ```
  User-agent: *
  Allow: /
  Sitemap: https://brightkeep.com.au/sitemap-index.xml
  ```
  The sitemap URL should match the configured site URL.
- Schema.org JSON-LD should be embedded as a `<script type="application/ld+json">` in the `<head>`. Example structure:
  ```json
  {
    "@context": "https://schema.org",
    "@type": ["Organization", "LocalBusiness"],
    "name": "BrightKeep",
    "url": "https://brightkeep.com.au",
    "email": "contact@brightkeep.com.au",
    "description": "Digital Business & Product Development",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Melbourne",
      "addressRegion": "VIC",
      "addressCountry": "AU"
    }
  }
  ```
- Canonical URL: use `<link rel="canonical" href={canonicalUrl} />` in the layout head. Construct from `PUBLIC_SITE_URL` plus the current page path.
- Validate structured data using Google's Rich Results Test or Schema.org validator after deployment.
- Validate Open Graph tags using Facebook's Sharing Debugger or LinkedIn's Post Inspector.

---

## Edge Cases & Error Handling

| Scenario | Expected Behaviour |
|----------|-------------------|
| `PUBLIC_SITE_URL` is not set | Build should warn or use a sensible default; meta tags with absolute URLs should not generate broken `undefined` URLs |
| Site is deployed to a different domain than configured | Canonical URL and sitemap reflect the configured `PUBLIC_SITE_URL`; developer must update env var for new domain |
| Search engine encounters duplicate pages (www vs non-www) | Canonical URL resolves the ambiguity; GitHub Pages handles this at the hosting level |
| Social platform cache shows old Open Graph data after update | Not a code issue; social platforms cache previews; developer can use platform debug tools to refresh |
| `og:image` is missing or inaccessible | Social platforms show a default preview without image; this is acceptable for launch |
| Privacy policy page (/privacy) needs its own meta tags | The SEO component should accept per-page props; privacy page sets its own title and description |
| Structured data is malformed JSON | Page still renders; structured data is ignored by search engines; validate at build time or in CI |

---

## Test Scenarios

- [ ] `<title>` tag contains "BrightKeep | Digital Business & Product Development | Melbourne"
- [ ] `<meta name="description">` is present and contains relevant keywords
- [ ] `og:title` meta tag is present with correct value
- [ ] `og:description` meta tag is present with correct value
- [ ] `og:type` meta tag is set to "website"
- [ ] `og:url` meta tag contains the canonical site URL
- [ ] `twitter:card` meta tag is present
- [ ] `twitter:title` and `twitter:description` meta tags are present
- [ ] Schema.org JSON-LD script is present in the page source
- [ ] JSON-LD contains Organization type with name "BrightKeep" and correct email
- [ ] JSON-LD contains LocalBusiness type with Melbourne, VIC, AU address
- [ ] JSON-LD is valid (passes Schema.org validator or Google Rich Results Test)
- [ ] `/sitemap-index.xml` (or `/sitemap.xml`) is accessible and lists all pages
- [ ] `/robots.txt` is accessible, allows all user agents, and references the sitemap
- [ ] `<link rel="canonical">` is present with the correct absolute URL
- [ ] Privacy policy page (`/privacy`) has its own appropriate meta title and description

---

## Dependencies

### Story Dependencies

| Story | Type | What's Needed | Status |
|-------|------|---------------|--------|
| US0001 | Blocks US0014 | Astro project with base layout and `PUBLIC_SITE_URL` env var support | Draft |
| US0004 | Informs US0014 | Hero section content for meta description keywords | Draft |
| US0005 | Informs US0014 | What We Do content for structured data description | Draft |
| US0006 | Informs US0014 | How We Work content | Draft |
| US0007 | Informs US0014 | Services content for keyword optimisation | Draft |
| US0008 | Informs US0014 | Footer with company details (ABN, location, email) for structured data | Draft |

### External Dependencies

| Dependency | Type | Status |
|------------|------|--------|
| `@astrojs/sitemap` npm package | Library | Available |
| `PUBLIC_SITE_URL` environment variable (domain TBD) | Configuration | Pending domain registration |
| Google Rich Results Test (for validation) | Tool | Available |

---

## Estimation

**Story Points:** 2
**Complexity:** Low

---

## Revision History

| Date | Author | Change |
|------|--------|--------|
| 2026-02-10 | Claude | Initial story created |
